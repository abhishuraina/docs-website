---
title: Create pipeline rules
metaDescription: 'Learn how to create pipeline rules to manage the flow of data from your monitored entities to New Relic.'
tags:
    - New Relic One
    - Pipeline control
---

In New Relic, you can create pipeline rules to manage and filter data effectively. You have the flexibility to choose between two methods: the guided method or writing your own NRQL query. The guided method provides a step-by-step wizard to help you configure rules, while the NRQL query option allows for custom query creation to filter data precisely.

When creating a rule, you can specify the type of data you want to filter, including Metrics, Events, Logs, or Traces. Additionally, you can decide where to deploy the ruleâ€”either on New Relic Cloud or within your own network. Deployment in your own network requires selecting a Gateway rule, whereas Cloud deployment involves creating a Cloud rule.

It's important to note that rules are scoped differently based on their deployment location. Cloud rules are scoped to a New Relic account, ensuring they apply to the correct account settings. In contrast, rules deployed in a customer's own network may be scoped to an organization, providing broader applicability within the network.

These options allow you to tailor pipeline rules to your specific data management needs, ensuring efficient and targeted data processing.


## Via guided method [#via-guided-method]

Follow these steps to create a Pipeline rule via the guided method:

1. In New Relic, go to New Relic Control and open the Pipeline Rules tab.
2. Click **Create a rule**. The **Create a new rule** wizard appears. The guided method is selected by default.
3. Select the type of data you want to filter: Metrics, Events, Logs, or Traces, and then click **Next**.
4. Enter the rule name.
5. Select what you want to drop, data or attributes:
   - If you want to drop entire records, select **Drop data**.
   - If you want to drop specific fields, select **Drop attributes**.
6. Select where you want to deploy the rule, on New Relic Cloud or in your own network:
   - If you want to deploy in your own network, select **Gateway rule**.
   - Otherwise, select **Cloud rule**.
7. If you want, add a description for your rule.
8. Ensure that the current account is selected.
9. Select the metric that you want to drop data/attributes for:
    - For Events, you'll have to specify the event.
    - For Logs, you'll have to specify the partition.
    - Nothing is required for Traces.
10. Filter metrics based on NRQL.
11. If you selected **Drop attributes** earlier, you'll also have to specify the metrics attributes here.
12. Save the rule. The rule is deployed.

## By writing NRQL query [#nrql-query]

Follow these steps to create a Pipeline rule by writing your own NRQL query:

1. In New Relic, go to New Relic Control and open the Pipeline Rules tab.
2. Click **Create a rule**. The **Create a new rule** wizard appears. The guided method is selected by default.
3. Select **Write a NRQL query**.
4. Enter the rule name. If you want, you can also add a description for the rule.
5. To write your own NRQL query for filtering data, click **Write your query**. The Query explorer opens up at the bottom.
6. Write your query and test it by clicking **Run**.
7. When satisfied, click **Save rule**.
8. Select where you want to deploy the rule, on New Relic Cloud or in your own network. Cloud rules are scoped to a New Relic account.
9. If you select Cloud as your deployment space, you'll also have to ensure that you are creating the rule for the correct account.
10. Click **Save**. The rule is deployed.
