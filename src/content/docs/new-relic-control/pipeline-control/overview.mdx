---
title: Pipeline control overview
metaDescription: 'Pipeline control allows you to manage the flow of data from your monitored entities to New Relic.'
freshnessValidatedDate: never
---

Pipeline Control is the data management component of New Relic Control. It can help filter and discard low-value data before it is ingested to the New Relic platform.  

Pipeline Control consists of two sub-components: Pipeline Control gateway (simply referred to as the gateway) and Pipeline Control cloud rules.

The gateway is designed to filter data or attributes before they leave your network.  The cloud rules perform that processing within the New Relic cloud. In both scenarios, Pipeline Control uses an identical NRQL query syntax to process data.

To use the gateway, you have to set it up in your environment first. The cloud rules involves no setup.

## Prerequisites
Before you get started, you must have:
- A New Relic account with organization product admin and organization manager permissions
- Familiarity with Kubernetes operations and management
- Kubernetes cluster admin access to deploy and manage resources within your cluster
- Permissions to create and manage private DNS hostnames within your network
- Permissions to create and manage DNS records
- Helm installed locally
- Understanding of NRQL to create and manage pipeline rules

## Considerations for using gateway
As you integrate and use the gateway component, here are some important considerations for you to keep in mind:

### Protocol compatibility
**APM agents protocol version:** Ensure your APM agents are updated to protocol version **17** or above for compatibility with the gateway.

### Attribute and data management
- **Attribute support:** Some attributes may not be supported by the gateway. For detailed information, refer to [Data dropping at gateway](/docs/new-relic-control/pipeline-control/data-dropping-gateway).
- **Data/attribute handling:** The gateway forwards your requests for dropping data or attributes for metric time slice data, sql_trace_data, and trace_sample_data directly to New Relic without modification.

### Parsing and data integration
- **Log parsing:** The gateway does not include Grok parsing for logs. Grok parsing is a method used to extract structured data from unstructured log messages using predefined patterns and regular expressions. You may need alternative methods to structure log data for querying and visualization.
- **Prometheus integration:** The gateway does not support Prometheus remote write for metrics, which may affect your integration with Prometheus-based systems.

### Licensing and compliance
- **License key management:** The gateway does not accommodate multiple license keys from native OpenTelemetry Protocol (OTLP) sources, such as agent collectors or APM SDKs. Consider this when managing your licenses.
- **Compliance standards:** The gateway isn't FedRAMP-compliant, which may affect your use if you need to meet federal security standards.

### Query functionality
**Query functions:** The gateway does not support certain functions in the WHERE clause for metric queries. The functions include:
- %[type]
- %[count]
- %[sum]
- %[min]
- %[max]
- %[latest]

Example query: `FROM Metric SELECT * WHERE (%[type]='summary' AND %[count]=0) OR (%[type]='gauge' AND %[count]=1 AND %[latest]=0)`

## Next step
[Set up gateway](/docs/new-relic-control/pipeline-control/set-up-and-deploy-pipeline-control).