---
title: "Set up Agent Control"
metaDescription: "Learn how to install and configure Agent Control in a Kubernetes cluster."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

There are two ways to install Agent Control:

## Guided install
1. Log in to New Relic. 
2. Ensure the right account is selected.
3. In Integrations & Agents, click **Install Agent Control**.
4. Select Kubernetes as the instrumentation method.
5. On the Select your fleet page, click **Continue**.
<Callout title="TIP">
    This is your first time installing Agent Control. You haven't installed Fleet Control yet. That's why skip the Select fleet option.
</Callout>
6. Provide your license key. If you create a new key, make sure you copy it to your clipboard or somerwhere safe. You'll need it shortly.
7. Select New Relic or OpenTelemetry as the instrumentation source, and then click **Continue**. 
8. Enter your cluster name, namespace, and then click **Continue****.**
9. Retain the setting to install the Prometheus agent to collect metrics from all exposed Prometheus endpoints in the cluster, excluding core Kubernetes system metrics which are already gathered by existing Kubernetes integration components. This is recommended. Then click **Continue**. This is not applicable to the OpenTelemetry instrumentation source.
10. Retain the default setting to gather log data, and then click **Continue**. This is not applicable to the OpenTelemetry instrumentation source.
11. Download the configuration file to your computer, and run the command provided in your terminal. After Agent Control is installed, click **Continue**.
12. Test the connection.

### Verify installation [#verify-install]

Verify the status of your pods by running:
```shell
kubectl get pods -n newrelic
```

Log in to your New Relic account and navigate to the relevant dashboard to confirm that telemetry data from your Kubernetes cluster is being received. This step checks that the agents are correctly configured and sending data back to New Relic.

## Uninstall Agent Control [#uninstall]
Follow the steps below to uninstall Agent Control:

<Steps>
<Step>
  ## View installed releases [#list-releases]

  First, run the following command to view the installed releases along with their release names and namespaces:
  ```shell
  helm list --all-namespaces
  ```
</Step>

  <Step>
    ## Uninstall Agent Control [#uninstall-agent-control]

    - To uninstall Agent Control, run the following command, making sure to replace `<RELEASE>` and `<NAMESPACE>` with the appropriate values for your installation:
      ```shell
      helm uninstall <RELEASE> -n <NAMESPACE>
      ```

    - For example:
      ```shell
      helm uninstall agent-control -n newrelic
      ```

 </Step>
</Steps>

After Agent Control is set up, set up Fleet Control.