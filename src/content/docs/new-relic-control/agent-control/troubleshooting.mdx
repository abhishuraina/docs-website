---
title: "Troubleshoot common issues"
metaDescription: "Learn how to diagnose and resolve common problems with Agent Control setup."
freshnessValidatedDate: never
---

<Callout title="preview">
  We're still working on this feature, but we'd love for you to try it out!

  This feature is currently provided as part of a preview program pursuant to our [pre-release policies](/docs/licenses/license-information/referenced-policies/new-relic-pre-release-policy).
</Callout>

This document covers the steps to troubleshoot common issues during the installation or operation of Agent Control.

To diagnose errors during the installation process, adjust the log level for Agent Control by adding the following setting in your values-newrelic.yaml file:

```yaml
        agent-control-deployment:
        config:
            agentControl:
            content:  
                log:
        level: trace
```

- **Default log level:** The default log level is info.
- **Supported log levels:** Other supported log levels are `debug` and `trace`.
- **OTel collector debug logs:** To enable debug logs in the OpenTelemetry collector, add `verboseLog: true`.

To read the logs, run the following command, making sure to adapt the command to reference the proper pod name and identifier:

```shell
kubectl logs agent-control-*** -n agent-control
```

## Invalid New Relic license
If you see an error message in the OpenTelemetry collector deployment pod similar to the following, you may have set an invalid license key, causing the collector to be unable to export data to New Relic:

```shell
2024-06-13T13:46:05.898Z error exporterhelper/retry_sender.go:126 Exporting failed. The error is not retryable. Dropping data. {"kind": "exporter", "data_type": "metrics", "name": "otlphttp/newrelic", "error": "Permanent error: error exporting items, request to https://otlp.nr-dat ││ go.opentelemetry.io/collector/exporter/exporterhelper.(*retrySender).send
```

### Solution
Make sure you're using the correct license key.

## OTel collector pods not created
If you don't see pods related to the OTel collector being created, there's likely an issue with the HelmRelease Custom Resource Definition (CRD). Run the following command to diagnose the problem:

```shell
kubectl get helmrelease open-telemetry -n agent-control
```

If everything went smoothly, you should see `READY` as `True`, and `STATUS` reflecting the current install succeeded.

If there are issues, the `STATUS` field will indicate the problem, and `READY` will be `FALSE`. Depending on the error, it might not be fully reflected in the status. For further insights, run the following command:

```shell
kubectl describe helmrelease open-telemetry -n agent-control
```

## Additional support
If you encounter issues not covered in this section, contact [New Relic support](https://support.newrelic.com).
