---
title: "Knowledge Integration API"
metaDescription: "Integration of RAG with Confluence is a GenAI assistant for observability that will help you understand and improve your system by integrating RAG with your confluence"
tags:
freshnessValidatedDate: never
---

## Manual Customer Upload via an API

<Steps>

  <Step>
    Execute the Script

      * Use the Confluence Query Language (CQL) to create a script.
      * Ensure the script interacts with the RAG system to collect and prepare data for analysis.
  </Step>

  <Step>
    Upload the Script to Cloud Storage

      1. **Select Cloud Storage**:
            * **Azure Blob Storage**: Use the Azure Storage SDK or Azure Blob Storage API to authenticate and upload the script.
            * **Amazon S3 Buckets**: Use the AWS SDK or Amazon S3 API to authenticate and upload the script.

      2. **Compliance**:
        - Ensure the script adheres to predefined naming conventions and structure for the indexing pipeline.
  </Step>
</Steps>

### Step 3: Authenticate with New Relic

1. **Provide API Key**:
   - Supply your New Relic API key.
   - This key is used to retrieve performance data or push custom events/data.

### Step 4: Trigger the Indexing Pipeline

1. **Automatic Trigger**:
   - The indexing pipeline triggers automatically after script upload and authentication.

2. **Pipeline Tasks**:
   - Validate the script.
   - Index the data retrieved or generated by the script.
   - Process the indexed data based on specific criteria or rules in the quickstart pipeline.

### Step 5: Monitor and Log the Process

1. **Monitoring**:
   - Use the RAG system's monitoring and logging capabilities.
   - Track script execution and indexing pipeline status via a dashboard or API endpoints.

### Step 6: Notification of Completion and Error Handling

1. **Notification**:
   - Receive notifications upon process completion via your preferred method (e.g., email, webhook).

2. **Error Handling**:
   - If errors occur, the system captures details and notifies you for troubleshooting and resolution.

## GraphQL API

### RAG Document Connection

**Namespace**: MachineLearning

```graphql
type RagDocumentConnection {
  "Next cursor to paginate by"
  nextCursor: String
  "Previous cursor to paginate by"
  prevCursor: String
  "Indicates whether there is a next page"
  hasNextPage: Boolean
  "Indicates whether there is a previous page"
  hasPrevPage: Boolean
  "Total count of results"
  totalCount: Int
  "Array of results"
  entities: [Document]
}
```

### RAG Tool Connection

**Namespace**: MachineLearning

```graphql
type RagToolConnection {
  "Next cursor to paginate by"
  nextCursor: String
  "Previous cursor to paginate by"
  prevCursor: String
  "Indicates whether there is a next page"
  hasNextPage: Boolean
  "Indicates whether there is a previous page"
  hasPrevPage: Boolean
  "Total count of results"
  totalCount: Int
  "Array of results"
  entities: [RagTool]
}
```

### Mutations

#### Create RAG Tool

**Namespace**: MachineLearning

```graphql
type Mutation {
  createRagTool {
    "The account ID that owns the tool"
    accountId: Int!
    "The type of tool, e.g., CONFLUENCE, GITHUB"
    type: String!
    "Display name of the tool"
    displayName: String!
    "Description of the tool"
    description: String!
    "Configuration for the tool"
    configuration: [{ key: String, value: String }]
    "Indicates if a pull from the indexer is needed"
    needsPull: Boolean!
    "Interval the indexer will run at, e.g., HOURLY, DAILY, WEEKLY"
    interval: String
    "Configuration for the indexer"
    indexerConfiguration: [{ key: String, value: String }]
  }: Tool
}
```

#### Create Document

**Namespace**: MachineLearning

```graphql
type Mutation {
  createRagDocument {
    "Name of the document"
    name: String!
    "Description of the document"
    description: String!
    "Source URL of the document"
    sourceUrl: String
    "ID of the tool"
    toolId: ID!
    "Author emails"
    authorEmails: [String]
    "Associated entity IDs"
    entityIds: [ID]
  }: RagDocument
}
```

#### Update Document

**Namespace**: MachineLearning

```graphql
type Mutation {
  updateRagDocument {
    "ID