---
componentType: default
headingText: Instrument a new mobile application
---

1. Give a name for your application, and click **Create**. Once the application name is created, click **Save and Continue**.

2. Select the Android agent plugin for your project. Regarding the location of the plugin, you have two options:

    - Recommended: Using the Gradle plugin DSL
        - Starting with agent version 7.6.0, the Android agent plugin is available on the Gradle Plugin Portal as a community plugin. The Gradle plugin DSL simplifies adding plugin dependencies to apps.
        - This method involves adding the agent plugin dependency to your project's plugins DSL block.
    - Legacy Plugin ID (newrelic)
        - For older projects or specific use cases, you can use the legacy plugin ID.
        - This method involves adding the agent as a dependency to your project's build script, specifying the MavenCentral repository.

    <Tabs>
        <TabsBar>
            <TabsBarItem id="1">
                Groovy
            </TabsBarItem>
            <TabsBarItem id="2">
                Kotlin
            </TabsBarItem>
        </TabsBar>

        <TabsPages>
            <TabsPageItem id="1">
                1. Merge or append the following into your top-level before plugins are applied project-level build.gradle file:

                ```groovy
                buildscript {
                    // The following section is needed only if pluginManagement is not used in settings.gradle 
                    repositories {
                        mavenCentral()
                    }
                    dependencies {
                        classpath 'com.newrelic.agent.android:agent-gradle-plugin:7.6.2'
                    }
                }

                ```
                2. Merge or append the following into your module-level build.gradle file:

                ```groovy
                plugins {
                    id 'newrelic'
                }
                dependencies {
                    implementation 'com.newrelic.agent.android:android-agent:7.6.2'
                }

                ```
                3. Click **Continue**.

                4. Set the app permissions to ensure that your app requests `INTERNET` and `ACCESS_NETWORK_STATE` permissions by adding these lines to your `AndroidManifest.xml`:

                ```xml
                <uses-permission android:name="android.permission.INTERNET" />
                <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
                ```
                5. Choose any one of the agent and click **Continue**.
                
                <TabsBar>
                    <TabsBarItem id="3">
                        Java
                    </TabsBarItem>
                    <TabsBarItem id="4">
                        Kotlin
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="3">
                        1. In your default Activity, import the NewRelic class:

                        ```java
                        import com.newrelic.agent.android.NewRelic;
                        ```

                        2. In the `onCreate` method of your default Activity, add the following line:

                        ```java
                        NewRelic.withApplicationToken(
                            "AA766013c10832209edd54b0b4bd6931e1553ed214-NRMA"
                        ).start(this.getApplicationContext());
                        ```

                        3. Click **Continue**.

                        <CollapserGroup>
                            <Collapser
                                id="If you are using ProGuard"
                                title="ProGuard only: properties file and add exclusions to proguard config"
                            >
                                    * Create a newrelic.properties file in your project’s app-level directory (projectname/app), add a newrelic.properties file containing this setting:

                                    ```properties
                                    com.newrelic.application_token=AA766013c10832209edd54b0b4bd6931e1553ed214-NRMA
                                    ```

                                    * Add the following to your proguard config (proguard.cfg, proguard-android.txt, proguard-rules.pro, etc) file:

                                    ```properties
                                    -keep class com.newrelic.** { *; }
                                    -dontwarn com.newrelic.**
                                    -keepattributes Exceptions, Signature, InnerClasses, LineNumberTable
                                    ```
                            </Collapser>
                        </CollapserGroup>

                        4. In the **Build and run your application** page, click **Continue**.
                        5. Now that you’ve installed New Relic in your app, within minutes you will see data in your New Relic account.
                    </TabsPageItem>

                    <TabsPageItem id="4">
                        1. In your default Activity, import the NewRelic class:

                        ```kotlin
                        import com.newrelic.agent.android.NewRelic
                        ```

                        2. In the `onCreate` method of your default Activity, add the following line:

                        ```kotlin
                        NewRelic.withApplicationToken(
                            "AA55c91b02146ff6ce3d06b8b6d83313f9d985dd67-NRMA"
                        ).start(this.applicationContext)
                        ```

                        3. Click **Continue**.

                        <CollapserGroup>
                            <Collapser
                                id="If you are using ProGuard"
                                title="ProGuard only: properties file and add exclusions to proguard config"
                            >
                                    * Create a newrelic.properties file in your project’s app-level directory (projectname/app), add a newrelic.properties file containing this setting:

                                    ```properties
                                    com.newrelic.application_token=AA55c91b02146ff6ce3d06b8b6d83313f9d985dd67-NRMA
                                    ```

                                    * Add the following to your proguard config (proguard.cfg, proguard-android.txt, proguard-rules.pro, etc) file:

                                    ```properties
                                    -keep class com.newrelic.** { *; }
                                    -dontwarn com.newrelic.**
                                    -keepattributes Exceptions, Signature, InnerClasses, LineNumberTable
                                    ```
                            </Collapser>
                        </CollapserGroup>

                        4. In the **Build and run your application** page, click **Continue**.
                        5. Now that you’ve installed New Relic in your app, within minutes you will see data in your New Relic account.
                    </TabsPageItem>
                </TabsPages>
            </TabsPageItem>

            <TabsPageItem id="2">
                1. Merge or append the following into your top-level before plugins are applied project-level build.gradle.kts file:

                ```kotlin
                buildscript {

                  // The following section is needed only if pluginManagement is not used in settings.gradle 
                  repositories {
                    mavenCentral()
                  }

                  dependencies {
                    classpath("com.newrelic.agent.android:agent-gradle-plugin:7.6.2")
                  }
                }
                ```

                2. Merge or append the following into your module-level build.gradle.kts file:

                ```kotlin
                plugins {
                  id("newrelic")
                }

                dependencies {
                  implementation("com.newrelic.agent.android:android-agent:7.6.2")
                }
                ```
                3. Click **Continue**.

                4. Set the app permissions to ensure that your app requests `INTERNET` and `ACCESS_NETWORK_STATE` permissions by adding these lines to your `AndroidManifest.xml`:

                ```xml
                <uses-permission android:name="android.permission.INTERNET" />
                <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
                ```
                5. Choose any one of the agent and click **Continue**.

                <TabsBar>
                    <TabsBarItem id="5">
                        Java
                    </TabsBarItem>
                    <TabsBarItem id="6">
                        Kotlin
                    </TabsBarItem>
                </TabsBar>

                <TabsPages>
                    <TabsPageItem id="5">
                        1. In your default Activity, import the NewRelic class:

                        ```java
                        import com.newrelic.agent.android.NewRelic;
                        ```

                        2. In the `onCreate` method of your default Activity, add the following line:

                        ```java
                        NewRelic.withApplicationToken(
                            "AAbb4f8313c1562d6dae68c5884116cd3d01319c85-NRMA"
                        ).start(this.getApplicationContext());
                        ```

                        3. Click **Continue**.

                        <CollapserGroup>
                            <Collapser
                                id="If you are using ProGuard"
                                title="ProGuard only: properties file and add exclusions to proguard config"
                            >
                                    * Create a newrelic.properties file in your project’s app-level directory (projectname/app), add a newrelic.properties file containing this setting:

                                    ```properties
                                    com.newrelic.application_token=AAbb4f8313c1562d6dae68c5884116cd3d01319c85-NRMA
                                    ```

                                    * Add the following to your proguard config (proguard.cfg, proguard-android.txt, proguard-rules.pro, etc) file:

                                    ```properties
                                    -keep class com.newrelic.** { *; }
                                    -dontwarn com.newrelic.**
                                    -keepattributes Exceptions, Signature, InnerClasses, LineNumberTable
                                    ```
                            </Collapser>
                        </CollapserGroup>

                        4. In the **Build and run your application** page, click **Continue**.
                        5. Now that you’ve installed New Relic in your app, within minutes you will see data in your New Relic account.
                    </TabsPageItem>

                    <TabsPageItem id="6">
                        1. In your default Activity, import the NewRelic class:

                        ```kotlin
                        import com.newrelic.agent.android.NewRelic
                        ```

                        2. In the `onCreate` method of your default Activity, add the following line:

                        ```kotlin
                        NewRelic.withApplicationToken(
                            "AA55c91b02146ff6ce3d06b8b6d83313f9d985dd67-NRMA"
                        ).start(this.applicationContext)
                        ```

                        3. Click **Continue**.

                        <CollapserGroup>
                            <Collapser
                                id="If you are using ProGuard"
                                title="ProGuard only: properties file and add exclusions to proguard config"
                            >
                                    * Create a newrelic.properties file in your project’s app-level directory (projectname/app), add a newrelic.properties file containing this setting:

                                    ```properties
                                    com.newrelic.application_token=AA55c91b02146ff6ce3d06b8b6d83313f9d985dd67-NRMA
                                    ```

                                    * Add the following to your proguard config (proguard.cfg, proguard-android.txt, proguard-rules.pro, etc) file:

                                    ```properties
                                    -keep class com.newrelic.** { *; }
                                    -dontwarn com.newrelic.**
                                    -keepattributes Exceptions, Signature, InnerClasses, LineNumberTable
                                    ```
                            </Collapser>
                        </CollapserGroup>

                        4. In the **Build and run your application** page, click **Continue**.
                        5. Now that you’ve installed New Relic in your app, within minutes you will see data in your New Relic account.
                    </TabsPageItem>
                </TabsPages>
            </TabsPageItem>
        </TabsPages>
    </Tabs>

3. Click **See your data** to generate the data.